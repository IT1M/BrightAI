!function(){"use strict";const e=window.matchMedia("(prefers-reduced-motion: reduce)").matches,t=(e,t=1200)=>{"requestIdleCallback"in window?requestIdleCallback(e,{timeout:t}):setTimeout(e,t)},n=document.getElementById("loading");n&&window.addEventListener("load",()=>{setTimeout(()=>n.classList.add("hide"),450)});const o=document.getElementById("matrixBackground"),i=document.querySelector(".code-wall");if(o){const $=()=>{const e=["GET /api/v1/nlp/sentiment 200 78ms","POST /api/v1/nlp/ner 200 64ms","POST /api/v1/nlp/summarize 200 83ms","POST /api/v1/nlp/translate 200 71ms","POST /api/v1/predict/forecast 200 92ms","POST /api/v1/predict/demand 200 88ms","POST /api/v1/predict/risk 200 95ms","POST /api/v1/predict/anomaly 200 69ms","WS /api/v1/speech/stream CONNECTED","POST /api/v1/speech/stt 200 84ms","POST /api/v1/speech/tts 200 79ms","OAuth2 token issued: *****","SDK: python | javascript | java","OpenAPI: swagger.json loaded"],t=window.matchMedia("(max-width: 768px)").matches?120:180;let n="";for(let o=0;o<t;o++)n+=e[o%e.length]+"   "+Math.random().toString(16).slice(2)+"\n";o.textContent=n,i&&i.classList.add("ready")},V=()=>t($,1400);"complete"===document.readyState?V():window.addEventListener("load",V,{once:!0})}const s=document.getElementById("terminalTyping");if(s&&!e){const _=['$ curl -X POST https://api.brightai.site/api/v1/nlp\n  -H "Authorization: Bearer <token>"\n  -d \'{"task":"sentiment","text":"الخدمة ممتازة ولكن الدعم يحتاج تحسين"}\'','{ "sentiment":"mixed", "score":0.62, "latency_ms":78 }',"",'$ curl -X POST https://api.brightai.site/api/v1/predict\n  -H "Authorization: Bearer <token>"\n  -d \'{"task":"forecast","series":[120,140,160,155,172]}\'','{ "forecast":[180, 188, 196], "confidence":0.94, "latency_ms":92 }',"","$ wscat -c wss://api.brightai.site/api/v1/speech/stream","[connected] real-time transcription: ON",'"مرحبا… أنا أتكلم الآن"  →  "مرحبا… أنا أتكلم الآن"',"","// Swagger/OpenAPI + SDKs Ready","// SLA: 99.9% | Response: <100ms"];let K=0,U=0;function W(){const e=_[K]??"";if(s.textContent=s.textContent.replace(/\s*$/,""),s.textContent=s.textContent+e.slice(U,U+1),U++,U>e.length)return s.textContent+="\n",K++,U=0,K>=_.length?(s.innerHTML=s.textContent+'<span class="cursor"></span>',void setTimeout(()=>{s.textContent="",K=0,U=0,setTimeout(W,250)},1600)):void setTimeout(W,260);s.innerHTML=s.textContent+'<span class="cursor"></span>',setTimeout(W,18+22*Math.random())}t(()=>setTimeout(W,600),1500)}const d=[...document.querySelectorAll("[data-order]")];d.length&&t(()=>{d.sort(()=>Math.random()-.5),d.forEach((e,t)=>setTimeout(()=>e.classList.add("show"),120+110*t))},1200);const c=document.getElementById("progressBar"),a=document.getElementById("toTop");(c||a)&&window.addEventListener("scroll",()=>{const e=document.documentElement,t=e.scrollTop,n=e.scrollHeight-e.clientHeight,o=n?t/n*100:0;c&&(c.style.width=o+"%"),a&&(t>300?a.classList.add("show"):a.classList.remove("show"))}),a&&a.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}));const l=document.getElementById("demoArea"),r=[...document.querySelectorAll(".tab")];function m(e){l&&("obj"===e&&(l.innerHTML='\n          <div class="hint">\n            <div>\n              <div style="font-weight:1000">Object Detection</div>\n              <div style="color:rgba(255,255,255,.62);font-weight:900;margin-top:4px">جرب تحميل صورة (Demo)</div>\n            </div>\n            <div class="fake-upload"><iconify-icon style="width:16px;height:16px" icon="lucide:upload"></iconify-icon> Upload Image</div>\n          </div>\n          <div class="viz">\n            <div class="box" style="top:28px;right:26px;width:160px;height:170px">\n              <div class="label">شخص: 98%</div>\n            </div>\n            <div class="box" style="top:92px;right:210px;width:220px;height:140px;border-color:rgba(255,209,102,.75)">\n              <div class="label" style="border-color:rgba(255,209,102,.35)">سيارة: 95%</div>\n            </div>\n          </div>\n        '),"face"===e&&(l.innerHTML='\n          <div class="hint">\n            <div>\n              <div style="font-weight:1000">Face Recognition</div>\n              <div style="color:rgba(255,255,255,.62);font-weight:900;margin-top:4px">كشف الوجوه والمشاعر (Demo)</div>\n            </div>\n            <div class="fake-upload"><iconify-icon style="width:16px;height:16px" icon="lucide:user"></iconify-icon> Analyze</div>\n          </div>\n          <div class="viz">\n            <div class="box" style="top:35px;right:120px;width:230px;height:190px;border-color:rgba(255,79,216,.75)">\n              <div class="label" style="border-color:rgba(255,79,216,.35)">سعيد: 85% · عمر ~ 29 · ذكر</div>\n            </div>\n          </div>\n        '),"ocr"===e&&(l.innerHTML='\n          <div class="hint">\n            <div>\n              <div style="font-weight:1000">Text Extraction (OCR)</div>\n              <div style="color:rgba(255,255,255,.62);font-weight:900;margin-top:4px">صورة وثيقة → نص مستخرج</div>\n            </div>\n            <div class="fake-upload"><iconify-icon style="width:16px;height:16px" icon="lucide:scan-text"></iconify-icon> Extract</div>\n          </div>\n          <div class="viz" style="display:grid;grid-template-columns:1fr 1fr;gap:12px;padding:12px">\n            <div style="border:1px solid rgba(255,255,255,.08);border-radius:14px;background:rgba(0,0,0,.26);position:relative;overflow:hidden">\n              <div style="padding:12px;color:rgba(255,255,255,.70);font-weight:900">وثيقة (Demo)</div>\n              <div style="position:absolute;inset:auto 12px 12px 12px;height:120px;border-radius:12px;border:1px dashed rgba(255,255,255,.14);opacity:.8"></div>\n            </div>\n            <div style="border:1px solid rgba(255,255,255,.08);border-radius:14px;background:rgba(0,0,0,.26);overflow:hidden">\n              <div style="padding:12px;color:rgba(255,255,255,.70);font-weight:900">النص المستخرج</div>\n              <div style="padding:0 12px 12px;font-family:var(--mono);font-size:11px;line-height:1.7;color:rgba(87,255,154,.90)">\n                رقم المعاملة: 87421<br/>\n                الاسم: Bright AI<br/>\n                الحالة: مكتمل<br/>\n                التاريخ: 2026-02-06\n              </div>\n            </div>\n          </div>\n        '),"pred"===e&&(l.innerHTML='\n          <div class="hint">\n            <div>\n              <div style="font-weight:1000">Predictive Analysis</div>\n              <div style="color:rgba(255,255,255,.62);font-weight:900;margin-top:4px">تنبؤات في الوقت الفعلي (Demo)</div>\n            </div>\n            <div class="fake-upload"><iconify-icon style="width:16px;height:16px" icon="lucide:activity"></iconify-icon> Live</div>\n          </div>\n          <div class="viz">\n            <div class="chart">\n              <div class="spark"></div>\n              <div class="line"></div>\n              <div class="curve"></div>\n              <div style="position:absolute;top:14px;right:14px;font-family:var(--mono);color:rgba(255,255,255,.70);font-weight:900;font-size:11px">\n                forecast: +12% MoM\n              </div>\n            </div>\n          </div>\n        '))}l&&r.length&&(m("obj"),r.forEach(e=>{e.addEventListener("click",()=>{r.forEach(e=>e.classList.remove("active")),e.classList.add("active"),m(e.dataset.tab)})}));const v=document.getElementById("acc"),u=document.getElementById("lat"),p=document.getElementById("req"),h=document.getElementById("models");v&&u&&p&&h&&t(()=>{setInterval(()=>{const e=(98.2+.8*Math.random()).toFixed(1),t=(.11+.1*Math.random()).toFixed(2),n=(15200+Math.floor(200*Math.random())).toLocaleString("en-US"),o=10+Math.floor(5*Math.random());v.textContent=e+"%",u.textContent=t+"s",p.textContent=n,h.textContent=o},1400)},1500);const g=[...document.querySelectorAll(".filter")],y=[...document.querySelectorAll(".project")];g.length&&y.length&&g.forEach(e=>{e.addEventListener("click",()=>{g.forEach(e=>e.classList.remove("active")),e.classList.add("active");const t=e.dataset.filter;y.forEach(e=>{const n="all"===t||e.dataset.cat===t;e.style.display=n?"":"none"})})});const f=[...document.querySelectorAll(".metric .big")],x=[...document.querySelectorAll(".bar > div")],E=document.getElementById("results");E&&(f.length||x.length)&&t(()=>{const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(x.length&&x.forEach(e=>e.style.width=e.dataset.fill+"%"),f.length&&f.forEach(e=>{const t=parseFloat(e.dataset.count),n=(""+t).includes("."),o=performance.now();const i=t<=100&&"256"!==e.dataset.count;e.textContent=i?"0%":"0",requestAnimationFrame(function i(s){const d=Math.min(1,(s-o)/1100),c=0+(t-0)*d;e.textContent=(n?c.toFixed(1):Math.round(c))+(e.textContent.includes("%")?"%":""),d<1&&requestAnimationFrame(i)})}),e.disconnect())})},{threshold:.25});e.observe(E)},1600);const b=document.getElementById("emp"),w=document.getElementById("ops"),I=document.getElementById("mins"),L=document.getElementById("empVal"),k=document.getElementById("opsVal"),B=document.getElementById("minVal"),S=document.getElementById("roiOut");if(b&&w&&I&&L&&k&&B&&S){function X(){L.textContent=b.value,k.textContent=Number(w.value).toLocaleString("en-US"),B.textContent=I.value;const e=120*(w.value*I.value/60*12*.55)/1e6;S.textContent=`~${e.toFixed(1)} مليون ريال/سنة`}[b,w,I].forEach(e=>e.addEventListener("input",X)),X()}document.querySelectorAll("details").forEach(e=>{e.addEventListener("toggle",()=>{const t=e.querySelector(".pm iconify-icon");t&&t.setAttribute("icon",e.open?"lucide:minus":"lucide:plus")})});const T=document.getElementById("searchModal"),C=document.getElementById("openSearch"),A=document.getElementById("searchInput");if(T&&C&&A){function G(){T.classList.add("show"),setTimeout(()=>A.focus(),50)}function J(){T.classList.remove("show")}C.addEventListener("click",G),T.addEventListener("click",e=>{e.target===T&&J()}),window.addEventListener("keydown",e=>{e.ctrlKey&&"k"===e.key.toLowerCase()&&(e.preventDefault(),G()),"Escape"===e.key&&J()}),document.querySelectorAll(".res").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.jump;J();const n=document.querySelector(t);n&&setTimeout(()=>n.scrollIntoView({behavior:"smooth"}),120)})})}const M=document.getElementById("chatFab"),O=document.getElementById("chatWindow"),q=document.getElementById("chatClose"),P=document.getElementById("chatMin"),H=document.getElementById("chatBadge"),z=document.getElementById("chatBody"),D=document.getElementById("chatInput"),F=document.getElementById("chatSend"),j=document.getElementById("typing");if(M&&O&&q&&P&&H&&z&&D&&F&&j){function Q(){O.classList.toggle("show"),O.classList.contains("show")&&(H.style.display="none",setTimeout(()=>D.focus(),80))}function Y(e,t="user"){const n=document.createElement("div");n.className="msg "+t,n.textContent=e,z.insertBefore(n,j),z.scrollTop=z.scrollHeight}function Z(e){j.style.display="flex",z.scrollTop=z.scrollHeight,setTimeout(()=>{j.style.display="none";let t="تمام. اكتبلي احتياجك بالتفصيل وأنا أرشدك لأفضل حل.";e.includes("خدماتكم")&&(t="بنقدم: APIs جاهزة (NLP/Prediction/Speech) + BI & Dashboards + AIaaS + أتمتة سير العمل + حلول روبوتات + أنظمة معرفة زي المكتبة الذكية."),e.includes("أتواصل")&&(t="تقدر تتواصل عبر البريد info@brightai.site أو الهاتف +966 53 822 9013، وكمان تقدر تحجز عرض توضيحي من أزرار الصفحة."),e.includes("استشارة")&&(t="أكيد. قولي القطاع (حكومي/صحي/تجزئة/صناعة/اتصالات/HR) وهدفك (تنبؤ/أتمتة/Chatbot/BI) عشان أحدد المسار الأنسب."),Y(t,"bot")},900)}M.addEventListener("click",Q),q.addEventListener("click",()=>O.classList.remove("show")),P.addEventListener("click",()=>O.classList.remove("show")),F.addEventListener("click",()=>{const e=D.value.trim();e&&(Y(e,"user"),D.value="",Z(e))}),D.addEventListener("keydown",e=>{"Enter"===e.key&&F.click()}),document.querySelectorAll(".qbtn").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.q;Y(t,"user"),Z(t)})})}const N=document.getElementById("cookies"),R=document.getElementById("cookieOk");N&&R&&(setTimeout(()=>{try{localStorage.getItem("cookies_ok")||N.classList.add("show")}catch(e){N.classList.add("show")}},1500),R.addEventListener("click",()=>{try{localStorage.setItem("cookies_ok","1")}catch(e){}N.classList.remove("show")}))}();